<!-- Static navbar -->
<nav class="navbar navbar-default hidden-xs" id="navContainer">
    <div id="navbar1">
        <ul class="nav navbar-nav">
            <li>
                <a href="#profile/myprofile/{{userId}}" class="{{isActive[0]}}" ng-class="{ active: isActive('/profile')}">Mysite</a>
            </li>
            
            <li ng-if="loggedInUserId == currentUserId">
                <a href="#mygroups/{{userId}}" class="{{isActive[1]}}" ng-class="{ active: isActive('/mygroups/{{userId}}')}">Groups</a>
            </li>
            <li ng-if="loggedInUserId != currentUserId">
                <a href="#community" class="{{isActive[1]}}" ng-class="{ active: isActive('/community')}">Build Community</a>
            </li>
            <li ng-class="{ active: isActive('/explore')}">
                <!-- Template which needs to be shown on click -->
                <script type="text/ng-template" id="explore">
                    <div class="triangle"></div>
                    <div class="ns-popover-tooltip">
                        <ul>
                            <li style="padding: 5px; text-align: center"><a  href="#evezplace">MarketPlace</a></li>
                            <li style="padding: 5px; text-align: center"><a  href="#wopportunity">Jobs</a></li>
                        </ul>
                    </div>
                </script>

                <a ns-popover
                   ns-popover-template="explore"
                   ns-popover-trigger="click"
                   ns-popover-theme="ns-popover-list-theme">
                    Explore
                </a>
            </li>
            <li ng-class="{ active: isActive('/search/advanced')}"><a href="#search/advanced"  id="search">Search&nbsp;
                <span class="fa fa-search" id="searchIcon"></span></a>
            </li>
        </ul>
    </div>
</nav>

<div class="col-md-2 col-xs-12 user-menu-btns visible-xs"
    ng-include src='"partials/profile/PromotionalToolMenu.html"'>
</div>

<div class="col-md-12 col-xs-12">
    <div class="row user-menu-container square">
        <div class="col-md-12 col-xs-12 no-padding user-details" ng-controller="profileCtrl">
            <div class="col-md-12 col-xs-12 coralbg white">
                <div class="col-md-3 col-xs-4 top-margin">
                    <div class="user-image biothumb">
                        <img ng-src="{{currentProfileImage}}" src="http://placehold.it/293x220"
                             class="img-responsive thumbnail" />
                    </div>
                </div>


                <div class="col-md-9 col-xs-8 no-pad">
                    <div class="user-pad-profile">
                        <!--name-->
                        <h3 style="text-transform: capitalize;">{{ firstname }} {{ lastname }}</h3>
                        <!--Location-->
                        <div ng-hide="city == '' || country =='' || city == null || country == null">
                            <h4 style="text-transform: capitalize;"><i class="fa fa-location-arrow"></i>&nbsp;{{locationDetails}}</h4>
                        </div>
                        <!--job and company-->
                        <div ng-hide="designation == '' || organization =='' || designation == null || organization == null">
                            <h4 style="text-transform: capitalize;">
                                <i class="fa fa-briefcase"></i> {{designation}}&nbsp;&nbsp;{{connectingtext}}&nbsp;&nbsp;{{organization}}
                            </h4>
                        </div>
                    </div>
                    <div class="row hidden-xs" ng-include='"partials/profile/userProfileCount.html"'></div>
                </div>
            </div>

            <div class="col-md-12 col-xs-12"  id="view">
                <h3>About Me</h3>
                <p style="text-align:justify;padding-bottom:10px;">{{ aboutme }}</p>
            </div>
        </div>

        <!--breadcrumb-->
        <div class="col-md-12 col-xs-12" style="margin-top: 10px;" id="view">
            <ul class="breadcrumb" style="background: transparent; padding-left: 0px;font-size:12px;">
                <li><a href="#home">Home</a> <span class="divider"></span></li>
                <li><a href="#mystores/{{currentUserId}}">Promotional Tools</a></li>
                <li class="active">Groups</li>
            </ul>
        </div>
        <!--breadcrumb ends-->

        <div class="col-md-2 user-menu-btns hidden-xs"
            ng-include src='"partials/profile/PromotionalToolMenu.html"'>
        </div>

        <!--For Member-->
        <div class="col-md-10 col-xs-12 user-menu user-pad" ng-show="roleId != 1 && currentUserId == loggedInUserId">
            <div class="col-md-12 col-xs-12">
                <div class="col-md-12 col-xs-12 empty-section text-center">
                    <span class="fa fa-exclamation-circle" style="color: #e50880; font-size: 64px;"></span>

                    <h3 style="font-weight: 200">This feature is not available for you. This feature is available only in the premium edition. In order to enable this feature please send a subscription request to evezown editor</h3>

                    <div class="col-md-2 col-xs-12 col-md-offset-5 text-center">
                        <a href class="btn btn-primary"> Subscribe Now</a>
                    </div>

                </div>
            </div>
        </div>

        <!--For Admin-->
        <div ng-show="roleId == 1">
            <div class="col-md-7 col-xs-12 user-menu user-pad">
            	<div class="col-md-12 panel-heading hidden-xs" style="padding-left: 0px;padding-right: 0px;">
                    <div class="fragment">
                        <a><span id='close' onclick='this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode); return false;'>x</span></a>
                        <h4 style="color: #369;font-family:'Raleway', sans-serif;font-size:18px;font-weight:500;">Groups</h4>
                        <p>
                            You have a special purpose, people who share your purpose, create a group, add activity and propagate.
                        </p>
                    </div>
                </div>
                <div class="col-md-12 col-xs-12 panel-heading">
                    <div class="col-md-2 col-xs-6 no-padding">
                        <h5>
                            Groups ({{myGroups.length}})
                        </h5>
                    </div>
                    <div class="col-xs-6 pull-right visible-xs no-padding" ng-if="loggedInUserId == currentUserId">
                        <a href ng-click="CreateGroup()" class="btn btn-primary"><span class="fa fa-plus"></span> Create Group</a>
                    </div>
                    <div class="col-md-3 col-xs-12 no-padding">
                        <input type="text" class="form-control" placeholder="search groups" ng-model="groupsearch"/>
                    </div>
                    <div class="col-md-3 col-md-offset-4 no-padding pull-right hidden-xs" ng-if="loggedInUserId == currentUserId">
                        <a href ng-click="CreateGroup()" class="btn btn-primary"><span class="fa fa-plus"></span> Create Group</a>
                    </div>
                </div>
                <div class="col-md-12 col-xs-12 circle-section">
                    <div class="row group-section">
                        <div class="col-md-12 col-xs-12 group-item" ng-repeat="group in myGroups | filter:groupsearch">
                            <div class="col-md-2" style="padding: 0px">
                                    <img ng-src="img/community-groups-header.jpg" class="img-thumbnail" ng-if="group.group_image == null"/>
                                    <img ng-src="{{service_url}}image/show/{{group.group_image.large_image_url}}" class="img-thumbnail" ng-if="group.group_image != null" alt="{{group.title}}"/>
                            </div>
                            <div class="col-md-10" style="padding: 10px">
                                <h5 class="group-item-title"><a
                                        href="#groups/{{group.id}}/{{currentUserId}}" class="topic-link">{{group.title}}</a></h5>

                                <p class="group-item-description" style="text-align:justify;">{{group.description}}</p>

                                <div class="group-item-info">
                                    <p>
                                        <span><strong>Open Group</strong> | </span>
                                        <span>Members <strong>{{group.members.length}}</strong> | </span>
                                        <span>Created by <strong>{{group.group_owner.firstname}} {{group.group_owner.lastname}}</strong> | </span>
                                        <span ng-if="loggedInUserId == group.group_owner.user_id"><a href ng-click="DeleteGroup(group)" class="topic-link">Delete</a>|</span>
            <!--                             <span ng-if="loggedInUserId != group.group_owner.user_id"><a href ng-click="JoinGroup(group)" class="topic-link">Join</a></span>
             -->                        </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="col-md-3 col-xs-12" ng-if="loggedInUserId == currentUserId">
                <!-- Friend requests -->
                <div class="panel" style="background: #f7f7f7;">
                    <div class="panel-heading">
                        <h5 style="color: #337ab7; font-weight: 600 ;margin-top: 5px; margin-bottom: 5px">Group Requests ({{allGroupRequest.length}})</h5>
                    </div>
                    <ul class="list-group" ng-repeat="request in allGroupRequest">
                        <li class="list-group-item col-sm-12 col-xs-12">
                            <div class="col-sm-8 col-xs-8" style="padding-left: 0px; padding-right: 0px">
                                <!--<img ng-src="{{service_url+'image/show/'+request.profileImage1}}" class="img-thumbnail" style="width: 32px; height: 32px" alt=""/>-->
                                <a href="#groups/{{request.group.id}}">{{request.group.title}}</a>
                                <span><a href="#profile/{{request.group.owner.user_id}}">({{request.group.owner.firstname}} {{request.group.owner.lastname}})</a></span>
                            </div>
                            <div class="col-sm-2 col-xs-2 pull-right">
                                <a href ng-click="SetRequest(request,true)"><span class="fa fa-check"></span></a>
                            </div>
                            <div class="col-sm-2 col-xs-2 pull-right">
                                <a href="" ng-click="SetRequest(request,false)"><span class="fa fa-times"></span></a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>


            <div class="col-md-3 col-xs-12" ng-if="loggedInUserId == currentUserId">
                <!-- Friend requests -->
                <div class="panel" style="background: #f7f7f7;">
                    <div class="panel-heading">
                        <h5 style="color: #337ab7; font-weight: 600 ;margin-top: 5px; margin-bottom: 5px">Group Invites ({{allGroupInvites.length}})</h5>
                    </div>
                    <ul class="list-group" ng-repeat="request in allGroupInvites">
                        <li class="list-group-item col-sm-12">
                            <div class="col-sm-6" style="padding-left: 0px; padding-right: 0px">
                                <a href="#groups/{{request.group.id}}">{{request.group.title}}</a>
                                <span><a href="#profile/{{request.user_id}}">({{request.group.owner.firstname}} {{request.group.owner.lastname}})</a></span>
                            </div>
                            <div class="col-sm-2 pull-right" style="padding-left: 0px; padding-right: 0px;">
                                <a href ng-click="SetInviteStatus(request,true)"><span class="fa fa-check"></span></a>
                            </div>
                            <div class="col-sm-2 pull-right" style="padding-left: 0px; padding-right: 0px">
                                <a href="" ng-click="SetInviteStatus(request,false)"><span class="fa fa-times"></span></a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/ng-template" id="templateId">
    <div class="ngdialog-buttons popuptemplate" ng-controller="groups">
        <h4>Add Group</h4>
        <input class="form-control" type="text" placeholder="Group Title"
               id="group" ng-model="group" maxlength="25" style="margin-bottom: 10px; height: 50px; font-size: 18px"/>
        <span class="pull-right" ng-hide="group == dirty" style="color:#E50880;">{{25 - group.length}}</span>
        <textarea class="form-control" rows="4" placeholder="Group Description (optional)"
                  ng-model="description" maxlength="255"/>
        <span class="pull-right" ng-hide="description == dirty" style="color:#E50880;">{{255 - description.length}}</span>
        <br>
        <button class="btn primary pull-right form-control" type="button" ng-click="SaveGroup()">Add</button>
    </div>
</script>
